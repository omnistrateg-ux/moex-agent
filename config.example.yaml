# MOEX Agent V1 Configuration Example
# Copy this file to config.yaml and customize

app:
  poll_seconds: 5           # Main loop interval (seconds)
  cooldown_minutes: 30      # Per-ticker cooldown between alerts
  top_n_anomalies: 10       # Max anomalies to process per cycle
  max_workers: 20           # Parallel HTTP workers

storage:
  sqlite_path: "data/moex_agent.sqlite"

universe:
  engine: "stock"
  market: "shares"
  board: "TQBR"             # Main MOEX board for blue chips
  tickers:
    # Tier 1 - Blue chips (high liquidity)
    - SBER                  # Sberbank
    - GAZP                  # Gazprom
    - LKOH                  # Lukoil
    - ROSN                  # Rosneft
    - NVTK                  # Novatek
    - GMKN                  # Nornickel
    - VTBR                  # VTB Bank
    - PLZL                  # Polyus
    - YDEX                  # Yandex
    - T                     # T-Bank (ex-TCS)

    # Tier 2 - Medium liquidity
    - TATN                  # Tatneft
    - SNGS                  # Surgutneftegas
    - CHMF                  # Severstal
    - NLMK                  # NLMK
    - MAGN                  # MMK
    - ALRS                  # Alrosa
    - MOEX                  # Moscow Exchange
    - MTSS                  # MTS
    - AFLT                  # Aeroflot
    - MGNT                  # Magnit

    # Add more tickers as needed...

signals:
  p_threshold: 0.35         # Min probability to generate signal (calibrated models max ~0.60)
  horizons:
    - { name: "5m", minutes: 5 }
    - { name: "10m", minutes: 10 }
    - { name: "30m", minutes: 30 }
    - { name: "1h", minutes: 60 }
    - { name: "1d", minutes: 1440 }
    - { name: "1w", minutes: 10080 }
  price_exit:
    enabled: true           # Use price-based exits (take/stop)
    take_atr: 0.8           # Take profit at entry + X * ATR
    stop_atr: 0.6           # Stop loss at entry - X * ATR

risk:
  max_spread_bps: 200       # Max bid-ask spread in basis points
  min_turnover_rub_5m: 1000000  # Min 5-min turnover in RUB

qwen:
  enabled: false            # Enable LLM analysis (requires Ollama)
  ollama_url: "http://localhost:11434"
  model: "qwen2.5:7b-instruct"
  max_tokens: 500
  temperature: 0.3

telegram:
  enabled: false            # Enable Telegram alerts
  bot_token: ""             # Get from @BotFather
  chat_id: ""               # Your chat ID (use /getUpdates to find it)
  send_recommendations:     # Only send these recommendation types
    - STRONG_BUY
    - BUY
    - STRONG_SELL
    - SELL
